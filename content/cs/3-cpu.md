---
title: CPU
aliases:
  - cpu
description: 컴퓨터의 뇌, CPU
draft: false
tags:
  - CS/computer
permalink: /cpu
created: 2025-04-21T23:59
updated: 2025-04-22T16:17
---
<p align="center">
  <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExOW5ueTljc2tkM2ZmaTE3aXMzdnU0YmZnOWZidm5jandvNjUxMTl5cSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/n6szplK2CnuJW/giphy.gif" alt="cpu" width="300">
</p>

# 구성요소

컴퓨터는 **수행할 동작과 그 대상 데이터**를 담은 명령어로 동작한다. 정적인 정보인 **데이터**를 동적 정보인 **명령어**와 함께 전달한다. 두 정보는 0과 1로 이루어져 있으며, 이는 **CPU**가 주체가 되어 실행한다. 즉, CPU의 종류에 따라 실행 가능한 세부적인 명령어의 종류가 다르며 처리의 양상이 달라진다.

**CPU**(Central Processing Unit)는 중앙 처리 부품을 의미한다. CPU는 주요 구성 요소와 빠른 명령어 처리를 위한 기술이 중점적인 부품이다. 크게 CPU 내부는 산술논리연산장치(ALU)와 제어 장치를 포함한 여러 레지스터들이 있다.

| CPU 구성 요소                                    |                               |     |
| -------------------------------------------- | ----------------------------- | --- |
| 산술논리연산장치<br>(ALU, Arithmetic and Logic Unit) | 실질적으로 연산을 수행                  |     |
| 제어장치<br>(CU, Control Unit)                   | 명령어를 해석, 제어 신호를 통해 부품을 작동.    |     |
| **레지스터(register)**                           | 작은 임시 저장장치, 처리하는 과정의 중간 값 저장. |     |

CPU의 구성 요소 중, 레지스터는 매우 중요한 부품이다. 여기에 저장되기 때문이다.

## 레지스터란 무엇인가?
레지스터는 CPU에서 다양한 이름과 역할로서 분리되어 있다. 대표적인 레지스터는 다음과 같다.

1. **프로그램 카운터**
프로그램 카운터는 메모리에서 다음으로 읽어 들일 [[2-readable-data#^6a72fe|명령어의 주소]]를 저장한다. 이를 **명령어 포인트**라고 부르기도 한다. 

2. **명령어 레지스터**
해석할 명령어를 저장하는 레지스터를 의미한다. CPU는 명령어 레지스터 속 명령어를 해석한 뒤, ALU, 산술 논리 연산 장치로 하여금 연산하도록 하거나 제어 신호를 전송한다.

3. **범용 레지스터**
일반적인 상황에서 사용할 수 있는 레지스터다. 데이터와 명령어, 주소를 모두 저장할 수 있다.

4. **플래그 레지스터**
연산의 결과 혹은 CPU 상태에 대한 부가 정보, 플래그 값을 저장한다. 플래그는 CPU가 명령어를 처리하는 과정에서 반드시 참조해야 할 상태 정보를 의미한다. 

| 플래그 레지스터     |                               |
| ------------ | ----------------------------- |
| 부호 플래그       | 연산 결과의 부호                     |
| 제로 플래그       | 연산 결과가 0인지                    |
| 캐리 플래그       | 연산 결과에 올림수나 빌림수가 발생했는지        |
| 오버플로우 플래그    | 오버플로우 발생 여부                   |
| **인터럽트** 플래그 | 인터럽트 가능 여부                    |
| 슈퍼바이저 플래그    | 커널 모드로 실행 중인지, 사용자 모드로 실행 중인지 |

5. **스택 포인터**
메모리에서는 실행 중인 프로그램이 **적재**되어 있다. 메모리 내 스택 영역의 최상단 스택 데이터 위치를 가르키는 레지스터가 바로 **스택 포인터**다. 

## 인터럽트란 무엇인가? 왜 중요한가 
^interrupt-def

앞서 CPU를 구성하는 요소 중 레지스터가 중요하고, 레지스터에서 **인터럽트 사이클**이 중요하다고 언급했다. 그렇다면 인터럽트란 무엇일까?

**인터럽트(interrupt)** 는 **CPU가 수행 중인 작업을 일시 중단시키는 신호** 다. 인터럽트는 크게 **동기 인터럽트 (synchronous interrupt)** 와 **비동기 인터럽트 (asynchronous interrupt)** 로 나누어진다.

동기 인터럽트는 CPU에 의해서 발생된다. 예외적인 상황이나 프로그램 오류에 의해서 발생된다. 우리가 쉽게 마주치는 "Exception"이 해당된다.

비동기 인터럽트는 주로 입출력 장치에 의해 발생한다. 작업의 알림과 같은 역할을 하는 것이다. 즉, 비동기 인터럽트의 다른 말로는 **하드웨어 인터럽트**라고 한다.

### 하드웨어 인터럽트: 효율적 관리

CPU는 효율적으로 명령어를 처리하기 위해 하드웨어 인터럽트를 사용한다. 우리가 자주 사용하는 전자레인지를 예로 들어보자. 우리는 전자레인지에 음식을 넣고 돌리는 동안 다른 일을 한다. 그리고 완료가 되는 소리에 의해 전자레인지에서 음식을 꺼낸다. 여기서 완료되었다고 알림을 보내는 것이 **하드웨어 인터럽트**다. 만약에 하드웨어 인터럽트를 사용하지 않았다면, 우리는 계속해서 전자레인지를 확인해야 하기 때문에 다른 일을 하지 못하는 매우 비효율적인 행동을 해야 한다. (주기적으로 확인하는 기법: polling). CPU도 마찬가지다. 여러 종류의 인터럽트가 있기는 하지만, 처리하는 순서는 동일하다.

1. 입출력장치 -> CPU에게 인터럽트 요청 신호
2. CPU는 실행 사이클을 종료, 인터럽트 여부 확인
3. CPU는 인터럽트 요청 확인 후 인터럽트 플래그를 통해 인터럽트 수용 여부 확인
4. 가능하면 CPU가 작업 백업
5. CPU는 인터럽트 백터를 참조, 서비스 루틴 실행
6. 루틴이 끝나면 백업된 작업 재개


# 참고자료

※ 이 글은 [『이것이 컴퓨터 과학이다』](https://product.kyobobook.co.kr/detail/S000214014967) 책을 기반으로, 다양한 자료를 참고해 작성했습니다.